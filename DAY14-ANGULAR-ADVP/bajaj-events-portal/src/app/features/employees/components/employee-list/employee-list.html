<div *ngIf="employee && employee.length > 0">
  <h1>{{ title }}</h1>
  <hr />
  <h2>{{ subTitle }}</h2>

  <p *ngIf="employeeChildmessage">{{ employeeChildmessage }}</p>

  <div class="container row">
    <input type="search" id="inputSearch" class="form-control" aria-describedby="searchHelpInline"
      placeholder="Search Employee by employee name" [(ngModel)]="searchChars" (input)="searchEmployee()" />
  </div>

  <table class="table table-hover table-striped">
    <thead>
      <tr>
        <th *ngFor="let col of columns; let i = index">
          <button class="btn btn-link p-0" (click)="sortBy(col)">
            {{ col }}
            <span *ngIf="sortColumn === col">
              {{ sortDirection === 'asc' ? '▲' : '▼' }}
            </span>
          </button>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of filteredEmployee; let i = index">
        <td>{{ emp.employeeId || 'unknown' }}</td>
        <td>{{ emp.employeeName || 'Unknown' }}</td>
        <td>{{ emp.city || 'Not Provided' }}</td>
        <td>{{ emp.phone || 'Not Provided' }}</td>
        <!-- <td><span>{{ emp.employeeId }}</span></td>
        <td><span>{{ emp.employeeName }}</span></td>
        <td><span>{{ emp.city }}</span></td>
        <td><span>{{ emp.phone }}</span></td> -->
        <td>
          <button class="btn btn-dark" (click)="onSelectedEmployee(emp.employeeId)">
            Show Details
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-container *ngIf="selectedEmployeeId > 0; else noEvents">
    @defer {
    <app-employee-details [employeeId]="selectedEmployeeId" [subTitle]="childSubtitle"
      (sendConfirmationMessage)="handleEmployeeChildMessage($event)">
    </app-employee-details>
    } @placeholder(minimum 3000ms) {
    <h4>Please wait, your contents are getting prepared!</h4>
    } @error {
    <h4>Something went wrong!</h4>
    }
  </ng-container>
</div>

<ng-template #noEvents>
  <h3>No Events Found</h3>
</ng-template>